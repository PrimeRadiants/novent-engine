function InvalidInputException(e,n){this.name="InvalidInputException",this.input=e,this.message=n}function MissingLibraryException(e){this.name="MissingLibraryException",this.message=e}function UnknownNoventExeption(e,n){this.name="UnknownNoventExeption",this.message=n,this.name=e}if(function(){"use strict";function e(){}function n(e,n){for(var t=e.length;t--;)if(e[t].listener===n)return t;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,r=this,o=r.EventEmitter;i.getListeners=function(e){var n,t,i=this._getEvents();if(e instanceof RegExp){n={};for(t in i)i.hasOwnProperty(t)&&e.test(t)&&(n[t]=i[t])}else n=i[e]||(i[e]=[]);return n},i.flattenListeners=function(e){var n,t=[];for(n=0;n<e.length;n+=1)t.push(e[n].listener);return t},i.getListenersAsObject=function(e){var n,t=this.getListeners(e);return t instanceof Array&&(n={},n[e]=t),n||t},i.addListener=function(e,t){var i,r=this.getListenersAsObject(e),o="object"==typeof t;for(i in r)r.hasOwnProperty(i)&&n(r[i],t)===-1&&r[i].push(o?t:{listener:t,once:!1});return this},i.on=t("addListener"),i.addOnceListener=function(e,n){return this.addListener(e,{listener:n,once:!0})},i.once=t("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var n=0;n<e.length;n+=1)this.defineEvent(e[n]);return this},i.removeListener=function(e,t){var i,r,o=this.getListenersAsObject(e);for(r in o)o.hasOwnProperty(r)&&(i=n(o[r],t),i!==-1&&o[r].splice(i,1));return this},i.off=t("removeListener"),i.addListeners=function(e,n){return this.manipulateListeners(!1,e,n)},i.removeListeners=function(e,n){return this.manipulateListeners(!0,e,n)},i.manipulateListeners=function(e,n,t){var i,r,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof n||n instanceof RegExp)for(i=t.length;i--;)o.call(this,n,t[i]);else for(i in n)n.hasOwnProperty(i)&&(r=n[i])&&("function"==typeof r?o.call(this,i,r):s.call(this,i,r));return this},i.removeEvent=function(e){var n,t=typeof e,i=this._getEvents();if("string"===t)delete i[e];else if(e instanceof RegExp)for(n in i)i.hasOwnProperty(n)&&e.test(n)&&delete i[n];else delete this._events;return this},i.removeAllListeners=t("removeEvent"),i.emitEvent=function(e,n){var t,i,r,o,s,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(t=a[o].slice(0),r=0;r<t.length;r++)i=t[r],i.once===!0&&this.removeListener(e,i.listener),s=i.listener.apply(this,n||[]),s===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=t("emitEvent"),i.emit=function(e){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,n)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return r.EventEmitter=o,e},"function"==typeof define&&define.amd?define(function(){return e}):"object"==typeof module&&module.exports?module.exports=e:r.EventEmitter=e}.call(this),function(e,n,t){"function"==typeof define&&define.amd?define(t):"object"==typeof exports?module.exports=t():n[e]=t()}("heir",this,function(){"use strict";var e={inherit:function(n,t,i){var r=n.prototype=e.createObject(t.prototype);r.constructor=n,(i||"undefined"==typeof i)&&(n._super=t.prototype)},createObject:Object.create||function(e){var n=function(){};return n.prototype=e,new n},mixin:function(n,t){return e.merge(n.prototype,t)},merge:function(n,t){var i;for(i in t)e.hasOwn(t,i)&&(n[i]=t[i])},hasOwn:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}};return e}),"undefined"==typeof createjs)throw new MissingLibraryException("missing library createjs");var NoventEngine=NoventEngine||{};!function(){"use strict";function e(e,t,i){if(!e)throw new InvalidInputException("page","missing parameter page");return e.events[t]?e.events[t]:(e.events[t]=new n(e,t,i),e.events[t])}NoventEngine.event=e;var n=function(e,n,t){function i(){return o.page.novent.waiting=!1,o.function(o.page.container,o.page).then(function(){if(o.page.index++,o.page.novent.waiting=!0,o.page.index==o.page.events.length)return o.page.novent.index++,o.page.novent.play()})}function r(e,n){return new Promise(function(i){t(i,e,n)})}var o=this;return o.page=e,o.function=r,o.play=i,o}}(),function(){"use strict";function e(e,n,i,r,o){if(!e||n||i||r){var s=new t(e,n,i,r);return NoventEngine.novents||(NoventEngine.novents={}),NoventEngine.novents[e]=s,s}if(!NoventEngine.novents||!NoventEngine.novents[e])throw new UnknownNoventExeption(e,"unknown novent with name "+e);return NoventEngine.novents[e]}function n(e){e.style.position="fixed",e.style.top=0,e.style.left=0,e.style.bottom=0,e.style.right=0,e.style.margin="auto";var n=window.innerWidth,t=window.innerHeight,i=t/n,r=e.height/e.width;i<=r?n=t/r:t=n*r,e.style.width=n+"px",e.style.height=t+"px"}NoventEngine.novent=e;var t=function(e,t,i,r,o){function s(e){if(!e||""===e)throw new InvalidInputException("name","missing parameter name");return e}function a(e){if(!e||""===e)throw new InvalidInputException("canvasId","missing parameter canvasId");var n=document.getElementById(e);if(!n)throw new InvalidInputException("canvasId","invalid canvasId, no canvas found with id "+e);return n}function u(e,n){if(!n||""===n)throw new InvalidInputException(e,"missing parameter "+e);if(n=Number.parseInt(n),!Number.isInteger(n)||n<0)throw new InvalidInputException(e,"invalid pramameter "+e+", should be a positive integer");return n}function c(e,n,t){return NoventEngine.page(v,e,n,t)}function p(){return 0==v.index&&v.waiting?v.pages[v.index].play():v.index!=v.pages.length&&v.waiting?v.pages[v.index].play():void(v.index==v.pages.length&&v.waiting&&v.trigger("complete"))}function f(){createjs.Ticker.setFPS(30),createjs.Ticker.addEventListener("tick",v.stage),o&&o(v.stage,v),window.onresize=function(){n(v.canvas)},n(v.canvas)}var v=this;return v.name=s(e),v.canvas=a(t),v.width=v.canvas.width=u("width",r),v.height=v.canvas.height=u("height",i),v.pages=[],v.page=c,v.index=0,v.scope={},v.stage=new createjs.Stage(v.canvas),v.waiting=!0,v.play=p,f(),v};heir.inherit(t,EventEmitter)}(),function(){"use strict";function e(e,t,i,r){if(!e)throw new InvalidInputException("novent","missing parameter novent");return e.pages[t]?e.pages[t]:(e.pages[t]=new n(e,t,i,r),e.pages[t])}NoventEngine.page=e;var n=function(e,n,t,i){function r(e,n){if(void 0===n||""===n)throw new InvalidInputException(e,"missing parameter "+e);if(n=Number.parseInt(n),!Number.isInteger(n)||n<0)throw new InvalidInputException(e,"invalid pramameter "+e+", should be a positive integer");return n}function o(e,n){return NoventEngine.event(c,e,n)}function s(){if(c.loading=!0,i&&0!=Object.keys(i).length){for(var e in i)c.loadQueue.loadFile({id:e,src:i[e]});c.loadQueue.on("fileload",function(n){c.lib[e]=n.result}),c.loadQueue.on("complete",function(){c.loading=!1,c.trigger("loadComplete")}),c.loadQueue.load()}else c.loadQueue.progress=1,c.loading=!1,c.trigger("loadComplete")}function a(){if(0==c.index){if(c.loadQueue.loaded)return u(),c.events[c.index].play();c.on("loadComplete",function(){return u(),c.events[c.index].play()}),c.loading||c.load()}else if(c.index!=c.events.length)return c.events[c.index].play()}function u(){t&&t(c.container,c);var e=function(e,n,t){return e.index>n.index?1:e.index<n.index?-1:0};c.container.sortChildren(e),c.novent.stage.addChild(c.container),c.novent.index>0&&c.novent.stage.removeChild(c.novent.pages[n-1].container)}var c=this;if(!e)throw new InvalidInputException("novent","missing parameter novent");return c.index=r("index",n),c.novent=e,c.events=[],c.event=o,c.index=0,c.scope={},c.container=new createjs.Container,c.play=a,c.loading=!1,c.loadQueue=new createjs.LoadQueue((!0)),c.load=s,c.lib={},c};heir.inherit(n,EventEmitter)}();